# YURIFT 環境変数テンプレート
# ⚠️ このファイルをコピーして .env.local を作成してください
# ⚠️ .env.local は .gitignore に含まれています（Git管理外）

# ===========================================
# Frontend (Next.js)
# ===========================================

# Supabase (Public - フロントエンドから使用可能)
NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ===========================================
# Backend (FastAPI)
# ===========================================

# Environment (development | production | staging)
ENV=development

# Supabase (Private - サーバーサイドのみ)
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=

# OpenAI API
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Upstash Redis
UPSTASH_REDIS_REST_URL=https://xxxxxxxx-xxxxx-xxxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=AYLxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Rate Limiting設定
RATE_LIMIT_MAX_REQUESTS=5
RATE_LIMIT_WINDOW_SECONDS=86400

# Cache設定
CACHE_TTL_DAYS=7

# CORS設定（カンマ区切り）
ALLOWED_ORIGINS=http://localhost:3000,https://yurift.vercel.app

# セキュリティ設定
API_DOCS_ENABLED=true
# ⚠️ 本番環境(ENV=production)ではfalseに設定してください

# ===========================================
# セットアップ手順
# ===========================================

# 1. このファイルをコピー
#    cp .env.local.example .env.local

# 2. 各サービスでアカウント作成してAPIキーを取得

#    【Supabase】https://supabase.com
#    - プロジェクト作成
#    - Settings → API
#    - Project URL → NEXT_PUBLIC_SUPABASE_URL, SUPABASE_URL
#    - anon public → NEXT_PUBLIC_SUPABASE_ANON_KEY
#    - service_role secret → SUPABASE_SERVICE_ROLE_KEY

#    【OpenAI】https://platform.openai.com/api-keys
#    - Create new secret key
#    - 生成されたキー → OPENAI_API_KEY

#    【Upstash Redis】https://upstash.com
#    - Redisデータベース作成
#    - REST API タブ
#    - UPSTASH_REDIS_REST_URL と UPSTASH_REDIS_REST_TOKEN をコピー

# 3. .env.local に取得したキーを貼り付け

# 4. 環境変数の確認
#    cat .env.local

# 5. 開発サーバー起動
#    make dev
#    または
#    npm run dev (フロントエンド)
#    cd api && uvicorn main:app --reload (バックエンド)

# ===========================================
# セキュリティ注意事項
# ===========================================

# ⚠️ .env.local は絶対にGitにコミットしないでください
# ⚠️ API キーは誰にも共有しないでください
# ⚠️ 本番環境では ENV=production に設定してください
# ⚠️ 本番環境では API_DOCS_ENABLED=false に設定してください
